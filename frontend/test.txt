
> frontend@0.1.0 test
> react-scripts test --testPathPattern=TemplateUpload --watchAll=false

FAIL src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx
  TemplateUpload
    Rendering
      ├ù renders template type selector (47 ms)
      ÔêÜ renders file upload button (41 ms)
      ÔêÜ renders upload button (disabled initially) (11 ms)
      ÔêÜ renders help instructions (5 ms)
    Template Type Selection
      ├ù displays all template type options (16 ms)
      ├ù shows description when template type is selected (7 ms)
      ├ù clears errors when template type changes (55 ms)
    File Upload
      ÔêÜ accepts HTML file selection (61 ms)
      ÔêÜ displays file size (62 ms)
      ├ù rejects non-HTML files (1055 ms)
      ÔêÜ rejects files larger than 5MB (231 ms)
      ÔêÜ changes button text after file selection (68 ms)
    Field Mappings
      ├ù validates JSON format (71 ms)
      ├ù accepts valid JSON (60 ms)
      ├ù accepts empty field mappings (46 ms)
      Ôùï skipped hides field mappings by default
      Ôùï skipped shows field mappings when toggled
    Form Validation
      ├ù shows error when uploading without file (4 ms)
      ├ù shows error when uploading without template type (1122 ms)
      ├ù enables upload button when all required fields are filled (9 ms)
    Upload Submission
      ├ù calls onUpload with correct parameters (6 ms)
      ├ù calls onUpload with field mappings when provided (4 ms)
    Loading and Disabled States
      ├ù disables all inputs when loading (4 ms)
      ├ù disables all inputs when disabled prop is true (4 ms)
      ÔêÜ shows loading text on upload button when loading (3 ms)

  ÔùÅ TemplateUpload ÔÇ║ Rendering ÔÇ║ renders template type selector

    TestingLibraryElementError: Found a label with the text of: /template type/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div>
            <label>
              Template Type
            </label>
            <select
              placeholder="Select template type"
            >
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div>
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              display="none"
              type="file"
            />
            <div>
              <button>
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p>
              ­ƒôØ Upload Instructions
            </p>
            <div>
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      50 |       render(<TemplateUpload onUpload={mockOnUpload} />);
      51 |       
    > 52 |       expect(screen.getByLabelText(/template type/i)).toBeInTheDocument();
         |                     ^
      53 |       expect(screen.getByText(/select template type/i)).toBeInTheDocument();
      54 |     });
      55 |

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:108:40)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByLabelText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:52:21)
      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (node_modules/@jest/core/build/cli/index.js:173:3)

  ÔùÅ TemplateUpload ÔÇ║ Template Type Selection ÔÇ║ displays all template type options

    TestingLibraryElementError: Found a label with the text of: /template type/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div>
            <label>
              Template Type
            </label>
            <select
              placeholder="Select template type"
            >
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div>
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              display="none"
              type="file"
            />
            <div>
              <button>
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p>
              ­ƒôØ Upload Instructions
            </p>
            <div>
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      81 |       render(<TemplateUpload onUpload={mockOnUpload} />);
      82 |       
    > 83 |       const select = screen.getByLabelText(/template type/i);
         |                             ^
      84 |       await user.click(select);
      85 |       
      86 |       expect(screen.getByText(/STR Invoice \(Dutch\)/i)).toBeInTheDocument();

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:108:40)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByLabelText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:83:29)
      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (node_modules/@jest/core/build/cli/index.js:173:3)

  ÔùÅ TemplateUpload ÔÇ║ Template Type Selection ÔÇ║ shows description when template type is selected

    TestingLibraryElementError: Found a label with the text of: /template type/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div>
            <label>
              Template Type
            </label>
            <select
              placeholder="Select template type"
            >
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div>
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              display="none"
              type="file"
            />
            <div>
              <button>
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p>
              ­ƒôØ Upload Instructions
            </p>
            <div>
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

       96 |       render(<TemplateUpload onUpload={mockOnUpload} />);
       97 |       
    >  98 |       const select = screen.getByLabelText(/template type/i);
          |                             ^
       99 |       await user.selectOptions(select, 'str_invoice_nl');
      100 |       
      101 |       expect(screen.getByText(/short-term rental invoice in dutch/i)).toBeInTheDocument();

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:108:40)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByLabelText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:98:29)
      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (node_modules/@jest/core/build/cli/index.js:173:3)

  ÔùÅ TemplateUpload ÔÇ║ Template Type Selection ÔÇ║ clears errors when template type changes

    TestingLibraryElementError: Found a label with the text of: /template type/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div>
            <label>
              Template Type
            </label>
            <select
              placeholder="Select template type"
            >
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div>
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              display="none"
              type="file"
            />
            <div>
              <button>
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p>
              ­ƒôØ Upload Instructions
            </p>
            <div>
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      111 |       
      112 |       // Select a template type
    > 113 |       const select = screen.getByLabelText(/template type/i);
          |                             ^
      114 |       await user.selectOptions(select, 'str_invoice_nl');
      115 |       
      116 |       // Error should be cleared

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:108:40)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByLabelText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:113:29)

  ÔùÅ TemplateUpload ÔÇ║ File Upload ÔÇ║ rejects non-HTML files

    Unable to find an element with the text: /only html files/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div>
            <label>
              Template Type
            </label>
            <select
              placeholder="Select template type"
            >
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div>
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              display="none"
              type="file"
            />
            <div>
              <button>
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p>
              ­ƒôØ Upload Instructions
            </p>
            <div>
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      159 |       await user.upload(input, file);
      160 |       
    > 161 |       await waitFor(() => {
          |                    ^
      162 |         expect(screen.getByText(/only html files/i)).toBeInTheDocument();
      163 |       });
      164 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:161:20)

  ÔùÅ TemplateUpload ÔÇ║ Field Mappings ÔÇ║ validates JSON format

    TestingLibraryElementError: Unable to find a label with the text of: /field mappings \(json\)/i

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div>
            <label>
              Template Type
            </label>
            <select
              placeholder="Select template type"
            >
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div>
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              display="none"
              type="file"
            />
            <div>
              <button>
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p>
              ­ƒôØ Upload Instructions
            </p>
            <div>
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      224 |       
      225 |       // Enter invalid JSON
    > 226 |       const textarea = screen.getByLabelText(/field mappings \(json\)/i);
          |                               ^
      227 |       await user.clear(textarea);
      228 |       await user.type(textarea, '{invalid json}');
      229 |       

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByLabelText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:226:31)

  ÔùÅ TemplateUpload ÔÇ║ Field Mappings ÔÇ║ accepts valid JSON

    TestingLibraryElementError: Unable to find a label with the text of: /field mappings \(json\)/i

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div>
            <label>
              Template Type
            </label>
            <select
              placeholder="Select template type"
            >
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div>
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              display="none"
              type="file"
            />
            <div>
              <button>
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p>
              ­ƒôØ Upload Instructions
            </p>
            <div>
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      255 |       
      256 |       // Enter valid JSON
    > 257 |       const textarea = screen.getByLabelText(/field mappings \(json\)/i);
          |                               ^
      258 |       await user.clear(textarea);
      259 |       await user.type(textarea, '{"field": "value"}');
      260 |       

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByLabelText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:257:31)

  ÔùÅ TemplateUpload ÔÇ║ Field Mappings ÔÇ║ accepts empty field mappings

    TestingLibraryElementError: Unable to find a label with the text of: /field mappings \(json\)/i

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div>
            <label>
              Template Type
            </label>
            <select
              placeholder="Select template type"
            >
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div>
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              display="none"
              type="file"
            />
            <div>
              <button>
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p>
              ­ƒôØ Upload Instructions
            </p>
            <div>
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      272 |       
      273 |       // Leave empty (default {})
    > 274 |       const textarea = screen.getByLabelText(/field mappings \(json\)/i);
          |                               ^
      275 |       expect(textarea).toHaveValue('{}');
      276 |       
      277 |       // Should not show error

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByLabelText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:274:31)

  ÔùÅ TemplateUpload ÔÇ║ Form Validation ÔÇ║ shows error when uploading without file

    TestingLibraryElementError: Found a label with the text of: /template type/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div>
            <label>
              Template Type
            </label>
            <select
              placeholder="Select template type"
            >
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div>
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              display="none"
              type="file"
            />
            <div>
              <button>
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p>
              ­ƒôØ Upload Instructions
            </p>
            <div>
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      286 |       
      287 |       // Select template type
    > 288 |       const select = screen.getByLabelText(/template type/i);
          |                             ^
      289 |       await user.selectOptions(select, 'str_invoice_nl');
      290 |       
      291 |       // Try to upload without file

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:108:40)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByLabelText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:288:29)
      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (node_modules/@jest/core/build/cli/index.js:173:3)

  ÔùÅ TemplateUpload ÔÇ║ Form Validation ÔÇ║ shows error when uploading without template type

    Unable to find an element with the text: /please select a template type/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div>
            <label>
              Template Type
            </label>
            <select
              placeholder="Select template type"
            >
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div>
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              display="none"
              type="file"
            />
            <div>
              <button>
                Change File
              </button>
              <div>
                <p>
                  template.html
                </p>
                <p>
                  0.03
                   KB
                </p>
              </div>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p>
              ­ƒôØ Upload Instructions
            </p>
            <div>
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      313 |       await user.click(uploadButton);
      314 |       
    > 315 |       await waitFor(() => {
          |                    ^
      316 |         expect(screen.getByText(/please select a template type/i)).toBeInTheDocument();
      317 |       });
      318 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:315:20)

  ÔùÅ TemplateUpload ÔÇ║ Form Validation ÔÇ║ enables upload button when all required fields are filled

    TestingLibraryElementError: Found a label with the text of: /template type/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div>
            <label>
              Template Type
            </label>
            <select
              placeholder="Select template type"
            >
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div>
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              display="none"
              type="file"
            />
            <div>
              <button>
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p>
              ­ƒôØ Upload Instructions
            </p>
            <div>
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      326 |       
      327 |       // Select template type
    > 328 |       const select = screen.getByLabelText(/template type/i);
          |                             ^
      329 |       await user.selectOptions(select, 'str_invoice_nl');
      330 |       
      331 |       // Upload file

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:108:40)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByLabelText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:328:29)
      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (node_modules/@jest/core/build/cli/index.js:173:3)

  ÔùÅ TemplateUpload ÔÇ║ Upload Submission ÔÇ║ calls onUpload with correct parameters

    TestingLibraryElementError: Found a label with the text of: /template type/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div>
            <label>
              Template Type
            </label>
            <select
              placeholder="Select template type"
            >
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div>
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              display="none"
              type="file"
            />
            <div>
              <button>
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p>
              ­ƒôØ Upload Instructions
            </p>
            <div>
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      349 |       
      350 |       // Select template type
    > 351 |       const select = screen.getByLabelText(/template type/i);
          |                             ^
      352 |       await user.selectOptions(select, 'str_invoice_nl');
      353 |       
      354 |       // Upload file

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:108:40)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByLabelText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:351:29)
      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (node_modules/@jest/core/build/cli/index.js:173:3)

  ÔùÅ TemplateUpload ÔÇ║ Upload Submission ÔÇ║ calls onUpload with field mappings when provided

    TestingLibraryElementError: Found a label with the text of: /template type/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div>
            <label>
              Template Type
            </label>
            <select
              placeholder="Select template type"
            >
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div>
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              display="none"
              type="file"
            />
            <div>
              <button>
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p>
              ­ƒôØ Upload Instructions
            </p>
            <div>
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      377 |       
      378 |       // Select template type
    > 379 |       const select = screen.getByLabelText(/template type/i);
          |                             ^
      380 |       await user.selectOptions(select, 'str_invoice_nl');
      381 |       
      382 |       // Upload file

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:108:40)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByLabelText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:379:29)
      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (node_modules/@jest/core/build/cli/index.js:173:3)

  ÔùÅ TemplateUpload ÔÇ║ Loading and Disabled States ÔÇ║ disables all inputs when loading

    TestingLibraryElementError: Found a label with the text of: /template type/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div>
            <label>
              Template Type
            </label>
            <select
              disabled=""
              placeholder="Select template type"
            >
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div>
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              display="none"
              type="file"
            />
            <div>
              <button
                disabled=""
              >
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button
              disabled=""
            >
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Uploading...
          </button>
          <div>
            <p>
              ­ƒôØ Upload Instructions
            </p>
            <div>
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      413 |       render(<TemplateUpload onUpload={mockOnUpload} loading={true} />);
      414 |       
    > 415 |       expect(screen.getByLabelText(/template type/i)).toBeDisabled();
          |                     ^
      416 |       expect(screen.getByRole('button', { name: /browse files/i })).toBeDisabled();
      417 |       expect(screen.getByRole('button', { name: /upload & preview template/i })).toBeDisabled();
      418 |     });

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:108:40)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByLabelText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:415:21)
      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (node_modules/@jest/core/build/cli/index.js:173:3)

  ÔùÅ TemplateUpload ÔÇ║ Loading and Disabled States ÔÇ║ disables all inputs when disabled prop is true

    TestingLibraryElementError: Found a label with the text of: /template type/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div>
            <label>
              Template Type
            </label>
            <select
              disabled=""
              placeholder="Select template type"
            >
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div>
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              display="none"
              type="file"
            />
            <div>
              <button
                disabled=""
              >
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button
              disabled=""
            >
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p>
              ­ƒôØ Upload Instructions
            </p>
            <div>
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      421 |       render(<TemplateUpload onUpload={mockOnUpload} disabled={true} />);
      422 |       
    > 423 |       expect(screen.getByLabelText(/template type/i)).toBeDisabled();
          |                     ^
      424 |       expect(screen.getByRole('button', { name: /browse files/i })).toBeDisabled();
      425 |       expect(screen.getByRole('button', { name: /upload & preview template/i })).toBeDisabled();
      426 |     });

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:108:40)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByLabelText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:423:21)
      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (node_modules/@jest/core/build/cli/index.js:173:3)

Test Suites: 1 failed, 1 total
Tests:       15 failed, 2 skipped, 8 passed, 25 total
Snapshots:   0 total
Time:        4.453 s
Ran all test suites matching /TemplateUpload/i.
