
> frontend@0.1.0 test
> react-scripts test TemplateUpload.test.tsx --no-coverage --watchAll=false --verbose

FAIL src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx (5.581 s)
  TemplateUpload
    Rendering
      ÔêÜ renders template type selector (35 ms)
      ÔêÜ renders file upload button (36 ms)
      ÔêÜ renders upload button (disabled initially) (10 ms)
      ÔêÜ renders help instructions (5 ms)
    Template Type Selection
      ÔêÜ displays all template type options (64 ms)
      ÔêÜ shows description when template type is selected (61 ms)
      ÔêÜ clears errors when template type changes (141 ms)
    File Upload
      ÔêÜ accepts HTML file selection (45 ms)
      ÔêÜ displays file size (48 ms)
      ├ù rejects non-HTML files (1079 ms)
      ÔêÜ rejects files larger than 5MB (233 ms)
      ÔêÜ changes button text after file selection (36 ms)
    Field Mappings
      ├ù validates JSON format (124 ms)
      ├ù accepts valid JSON (121 ms)
      ├ù accepts empty field mappings (101 ms)
      Ôùï skipped hides field mappings by default
      Ôùï skipped shows field mappings when toggled
    Form Validation
      ├ù shows error when uploading without file (1150 ms)
      ├ù shows error when uploading without template type (1114 ms)
      ÔêÜ enables upload button when all required fields are filled (139 ms)
    Upload Submission
      ÔêÜ calls onUpload with correct parameters (202 ms)
      ├ù calls onUpload with field mappings when provided (257 ms)
    Loading and Disabled States
      ├ù disables all inputs when loading (55 ms)
      ÔêÜ disables all inputs when disabled prop is true (15 ms)
      ÔêÜ shows loading text on upload button when loading (4 ms)

  ÔùÅ TemplateUpload ÔÇ║ File Upload ÔÇ║ rejects non-HTML files

    Unable to find an element with the text: /only html files/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div
            data-invalid="false"
          >
            <label>
              Template Type
            </label>
            <select
              aria-label="Template Type"
            >
              <option
                value=""
              >
                Select template type
              </option>
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div
            data-invalid="false"
          >
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              style="display: none;"
              type="file"
            />
            <div>
              <button>
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p
              font-weight="bold"
              mb="2"
            >
              ­ƒôØ Upload Instructions
            </p>
            <div
              color="gray.300"
              font-size="xs"
            >
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      195 |       await user.upload(input, file);
      196 |       
    > 197 |       await waitFor(() => {
          |                    ^
      198 |         expect(screen.getByText(/only html files/i)).toBeInTheDocument();
      199 |       });
      200 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:197:20)

  ÔùÅ TemplateUpload ÔÇ║ Field Mappings ÔÇ║ validates JSON format

    TestingLibraryElementError: Unable to find an accessible element with the role "textbox" and name `/field mappings \(json\)/i`

    Here are the accessible roles:

      combobox:

      Name "Template Type":
      <select
        aria-label="Template Type"
      />

      --------------------------------------------------
      option:

      Name "Select template type":
      <option
        value=""
      />

      Name "STR Invoice (Dutch)":
      <option
        value="str_invoice_nl"
      />

      Name "STR Invoice (English)":
      <option
        value="str_invoice_en"
      />

      Name "BTW Aangifte":
      <option
        value="btw_aangifte"
      />

      Name "Aangifte IB":
      <option
        value="aangifte_ib"
      />

      Name "Toeristenbelasting":
      <option
        value="toeristenbelasting"
      />

      Name "Financial Report":
      <option
        value="financial_report"
      />

      --------------------------------------------------
      button:

      Name "Browse Files":
      <button />

      Name "ÔûÂ Advanced: Field Mappings (Optional)":
      <button />

      Name "Upload & Preview Template":
      <button
        disabled=""
      />

      --------------------------------------------------
      paragraph:

      Name "":
      <p
        font-weight="bold"
        mb="2"
      />

      Name "":
      <p />

      Name "":
      <p />

      Name "":
      <p />

      Name "":
      <p />

      --------------------------------------------------

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div
            data-invalid="false"
          >
            <label>
              Template Type
            </label>
            <select
              aria-label="Template Type"
            >
              <option
                value=""
              >
                Select template type
              </option>
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div
            data-invalid="false"
          >
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              style="display: none;"
              type="file"
            />
            <div>
              <button>
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p
              font-weight="bold"
              mb="2"
            >
              ­ƒôØ Upload Instructions
            </p>
            <div
              color="gray.300"
              font-size="xs"
            >
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      260 |       
      261 |       // Enter invalid JSON
    > 262 |       const textarea = screen.getByRole('textbox', { name: /field mappings \(json\)/i });
          |                               ^
      263 |       await user.clear(textarea);
      264 |       await user.type(textarea, '{invalid json}');
      265 |       

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByRole (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:262:31)

  ÔùÅ TemplateUpload ÔÇ║ Field Mappings ÔÇ║ accepts valid JSON

    TestingLibraryElementError: Unable to find an accessible element with the role "textbox" and name `/field mappings \(json\)/i`

    Here are the accessible roles:

      combobox:

      Name "Template Type":
      <select
        aria-label="Template Type"
      />

      --------------------------------------------------
      option:

      Name "Select template type":
      <option
        value=""
      />

      Name "STR Invoice (Dutch)":
      <option
        value="str_invoice_nl"
      />

      Name "STR Invoice (English)":
      <option
        value="str_invoice_en"
      />

      Name "BTW Aangifte":
      <option
        value="btw_aangifte"
      />

      Name "Aangifte IB":
      <option
        value="aangifte_ib"
      />

      Name "Toeristenbelasting":
      <option
        value="toeristenbelasting"
      />

      Name "Financial Report":
      <option
        value="financial_report"
      />

      --------------------------------------------------
      button:

      Name "Browse Files":
      <button />

      Name "ÔûÂ Advanced: Field Mappings (Optional)":
      <button />

      Name "Upload & Preview Template":
      <button
        disabled=""
      />

      --------------------------------------------------
      paragraph:

      Name "":
      <p
        font-weight="bold"
        mb="2"
      />

      Name "":
      <p />

      Name "":
      <p />

      Name "":
      <p />

      Name "":
      <p />

      --------------------------------------------------

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div
            data-invalid="false"
          >
            <label>
              Template Type
            </label>
            <select
              aria-label="Template Type"
            >
              <option
                value=""
              >
                Select template type
              </option>
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div
            data-invalid="false"
          >
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              style="display: none;"
              type="file"
            />
            <div>
              <button>
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p
              font-weight="bold"
              mb="2"
            >
              ­ƒôØ Upload Instructions
            </p>
            <div
              color="gray.300"
              font-size="xs"
            >
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      291 |       
      292 |       // Enter valid JSON
    > 293 |       const textarea = screen.getByRole('textbox', { name: /field mappings \(json\)/i });
          |                               ^
      294 |       await user.clear(textarea);
      295 |       await user.type(textarea, '{"field": "value"}');
      296 |       

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByRole (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:293:31)

  ÔùÅ TemplateUpload ÔÇ║ Field Mappings ÔÇ║ accepts empty field mappings

    TestingLibraryElementError: Unable to find an accessible element with the role "textbox" and name `/field mappings \(json\)/i`

    Here are the accessible roles:

      combobox:

      Name "Template Type":
      <select
        aria-label="Template Type"
      />

      --------------------------------------------------
      option:

      Name "Select template type":
      <option
        value=""
      />

      Name "STR Invoice (Dutch)":
      <option
        value="str_invoice_nl"
      />

      Name "STR Invoice (English)":
      <option
        value="str_invoice_en"
      />

      Name "BTW Aangifte":
      <option
        value="btw_aangifte"
      />

      Name "Aangifte IB":
      <option
        value="aangifte_ib"
      />

      Name "Toeristenbelasting":
      <option
        value="toeristenbelasting"
      />

      Name "Financial Report":
      <option
        value="financial_report"
      />

      --------------------------------------------------
      button:

      Name "Browse Files":
      <button />

      Name "ÔûÂ Advanced: Field Mappings (Optional)":
      <button />

      Name "Upload & Preview Template":
      <button
        disabled=""
      />

      --------------------------------------------------
      paragraph:

      Name "":
      <p
        font-weight="bold"
        mb="2"
      />

      Name "":
      <p />

      Name "":
      <p />

      Name "":
      <p />

      Name "":
      <p />

      --------------------------------------------------

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div
            data-invalid="false"
          >
            <label>
              Template Type
            </label>
            <select
              aria-label="Template Type"
            >
              <option
                value=""
              >
                Select template type
              </option>
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div
            data-invalid="false"
          >
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              style="display: none;"
              type="file"
            />
            <div>
              <button>
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p
              font-weight="bold"
              mb="2"
            >
              ­ƒôØ Upload Instructions
            </p>
            <div
              color="gray.300"
              font-size="xs"
            >
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      308 |       
      309 |       // Leave empty (default {})
    > 310 |       const textarea = screen.getByRole('textbox', { name: /field mappings \(json\)/i });
          |                               ^
      311 |       expect(textarea).toHaveValue('{}');
      312 |       
      313 |       // Should not show error

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByRole (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:310:31)

  ÔùÅ TemplateUpload ÔÇ║ Form Validation ÔÇ║ shows error when uploading without file

    Unable to find an element with the text: /please select a file/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div
            data-invalid="false"
          >
            <label>
              Template Type
            </label>
            <select
              aria-label="Template Type"
            >
              <option
                value=""
              >
                Select template type
              </option>
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
            <div>
              Short-term rental invoice in Dutch
            </div>
          </div>
          <div
            data-invalid="false"
          >
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              style="display: none;"
              type="file"
            />
            <div>
              <button>
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p
              font-weight="bold"
              mb="2"
            >
              ­ƒôØ Upload Instructions
            </p>
            <div
              color="gray.300"
              font-size="xs"
            >
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      329 |       await user.click(uploadButton);
      330 |       
    > 331 |       await waitFor(() => {
          |                    ^
      332 |         expect(screen.getByText(/please select a file/i)).toBeInTheDocument();
      333 |       });
      334 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:331:20)

  ÔùÅ TemplateUpload ÔÇ║ Form Validation ÔÇ║ shows error when uploading without template type

    Unable to find an element with the text: /please select a template type/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div
            data-invalid="false"
          >
            <label>
              Template Type
            </label>
            <select
              aria-label="Template Type"
            >
              <option
                value=""
              >
                Select template type
              </option>
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div
            data-invalid="false"
          >
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              style="display: none;"
              type="file"
            />
            <div>
              <button>
                Change File
              </button>
              <div
                flex="2"
              >
                <p>
                  template.html
                </p>
                <p>
                  0.03
                   KB
                </p>
              </div>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Upload & Preview Template
          </button>
          <div>
            <p
              font-weight="bold"
              mb="2"
            >
              ­ƒôØ Upload Instructions
            </p>
            <div
              color="gray.300"
              font-size="xs"
            >
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      349 |       await user.click(uploadButton);
      350 |       
    > 351 |       await waitFor(() => {
          |                    ^
      352 |         expect(screen.getByText(/please select a template type/i)).toBeInTheDocument();
      353 |       });
      354 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:351:20)

  ÔùÅ TemplateUpload ÔÇ║ Upload Submission ÔÇ║ calls onUpload with field mappings when provided

    TestingLibraryElementError: Unable to find an accessible element with the role "textbox" and name `/field mappings \(json\)/i`

    Here are the accessible roles:

      combobox:

      Name "Template Type":
      <select
        aria-label="Template Type"
      />

      --------------------------------------------------
      option:

      Name "Select template type":
      <option
        value=""
      />

      Name "STR Invoice (Dutch)":
      <option
        value="str_invoice_nl"
      />

      Name "STR Invoice (English)":
      <option
        value="str_invoice_en"
      />

      Name "BTW Aangifte":
      <option
        value="btw_aangifte"
      />

      Name "Aangifte IB":
      <option
        value="aangifte_ib"
      />

      Name "Toeristenbelasting":
      <option
        value="toeristenbelasting"
      />

      Name "Financial Report":
      <option
        value="financial_report"
      />

      --------------------------------------------------
      button:

      Name "Change File":
      <button />

      Name "ÔûÂ Advanced: Field Mappings (Optional)":
      <button />

      Name "Upload & Preview Template":
      <button />

      --------------------------------------------------
      paragraph:

      Name "":
      <p />

      Name "":
      <p />

      Name "":
      <p
        font-weight="bold"
        mb="2"
      />

      Name "":
      <p />

      Name "":
      <p />

      Name "":
      <p />

      Name "":
      <p />

      --------------------------------------------------

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div
            data-invalid="false"
          >
            <label>
              Template Type
            </label>
            <select
              aria-label="Template Type"
            >
              <option
                value=""
              >
                Select template type
              </option>
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
            <div>
              Short-term rental invoice in Dutch
            </div>
          </div>
          <div
            data-invalid="false"
          >
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              style="display: none;"
              type="file"
            />
            <div>
              <button>
                Change File
              </button>
              <div
                flex="2"
              >
                <p>
                  template.html
                </p>
                <p>
                  0.03
                   KB
                </p>
              </div>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button>
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button>
            Upload & Preview Template
          </button>
          <div>
            <p
              font-weight="bold"
              mb="2"
            >
              ­ƒôØ Upload Instructions
            </p>
            <div
              color="gray.300"
              font-size="xs"
            >
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      427 |       await user.click(toggleButton);
      428 |       
    > 429 |       const textarea = screen.getByRole('textbox', { name: /field mappings \(json\)/i });
          |                               ^
      430 |       await user.clear(textarea);
      431 |       await user.type(textarea, '{"custom_field": "value"}');
      432 |       

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByRole (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:429:31)

  ÔùÅ TemplateUpload ÔÇ║ Loading and Disabled States ÔÇ║ disables all inputs when loading

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/upload & preview template/i`

    Here are the accessible roles:

      combobox:

      Name "Template Type":
      <select
        aria-label="Template Type"
        disabled=""
      />

      --------------------------------------------------
      option:

      Name "Select template type":
      <option
        value=""
      />

      Name "STR Invoice (Dutch)":
      <option
        value="str_invoice_nl"
      />

      Name "STR Invoice (English)":
      <option
        value="str_invoice_en"
      />

      Name "BTW Aangifte":
      <option
        value="btw_aangifte"
      />

      Name "Aangifte IB":
      <option
        value="aangifte_ib"
      />

      Name "Toeristenbelasting":
      <option
        value="toeristenbelasting"
      />

      Name "Financial Report":
      <option
        value="financial_report"
      />

      --------------------------------------------------
      button:

      Name "Browse Files":
      <button
        disabled=""
      />

      Name "ÔûÂ Advanced: Field Mappings (Optional)":
      <button
        disabled=""
      />

      Name "Uploading...":
      <button
        disabled=""
      />

      --------------------------------------------------
      paragraph:

      Name "":
      <p
        font-weight="bold"
        mb="2"
      />

      Name "":
      <p />

      Name "":
      <p />

      Name "":
      <p />

      Name "":
      <p />

      --------------------------------------------------

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div
            data-invalid="false"
          >
            <label>
              Template Type
            </label>
            <select
              aria-label="Template Type"
              disabled=""
            >
              <option
                value=""
              >
                Select template type
              </option>
              <option
                value="str_invoice_nl"
              >
                STR Invoice (Dutch)
              </option>
              <option
                value="str_invoice_en"
              >
                STR Invoice (English)
              </option>
              <option
                value="btw_aangifte"
              >
                BTW Aangifte
              </option>
              <option
                value="aangifte_ib"
              >
                Aangifte IB
              </option>
              <option
                value="toeristenbelasting"
              >
                Toeristenbelasting
              </option>
              <option
                value="financial_report"
              >
                Financial Report
              </option>
            </select>
          </div>
          <div
            data-invalid="false"
          >
            <label>
              Template File
            </label>
            <input
              accept=".html,.htm"
              aria-label="Upload HTML template file"
              style="display: none;"
              type="file"
            />
            <div>
              <button
                disabled=""
              >
                Browse Files
              </button>
            </div>
            <div>
              HTML files only, max 5MB
            </div>
          </div>
          <div>
            <button
              disabled=""
            >
              ÔûÂ
               Advanced: Field Mappings (Optional)
            </button>
          </div>
          <button
            disabled=""
          >
            Uploading...
          </button>
          <div>
            <p
              font-weight="bold"
              mb="2"
            >
              ­ƒôØ Upload Instructions
            </p>
            <div
              color="gray.300"
              font-size="xs"
            >
              <p>
                1. Select the template type from the dropdown
              </p>
              <p>
                2. Choose your HTML template file (max 5MB)
              </p>
              <p>
                3. Optionally configure field mappings
              </p>
              <p>
                4. Click "Upload & Preview Template" to validate
              </p>
            </div>
          </div>
        </div>
      </div>
    </body>

      451 |       expect(screen.getByRole('combobox', { name: /template type/i })).toBeDisabled();
      452 |       expect(screen.getByRole('button', { name: /browse files/i })).toBeDisabled();
    > 453 |       expect(screen.getByRole('button', { name: /upload & preview template/i })).toBeDisabled();
          |                     ^
      454 |     });
      455 |
      456 |     it('disables all inputs when disabled prop is true', () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByRole (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/TenantAdmin/TemplateManagement/__tests__/TemplateUpload.test.tsx:453:21)
      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (node_modules/@jest/core/build/cli/index.js:173:3)

Test Suites: 1 failed, 1 total
Tests:       8 failed, 2 skipped, 15 passed, 25 total
Snapshots:   0 total
Time:        6.311 s
Ran all test suites matching /TemplateUpload.test.tsx/i.
