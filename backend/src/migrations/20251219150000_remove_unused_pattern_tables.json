{
  "name": "remove_unused_pattern_tables",
  "description": "Remove unused pattern tables - now using unified pattern_verb_patterns table",
  "author": "System",
  "timestamp": "20251219150000",
  "up": [
    "DROP TABLE IF EXISTS pattern_debet_predictions",
    "DROP TABLE IF EXISTS pattern_credit_predictions", 
    "DROP TABLE IF EXISTS pattern_reference_predictions"
  ],
  "down": [
    "CREATE TABLE IF NOT EXISTS pattern_debet_predictions (id INT AUTO_INCREMENT PRIMARY KEY, pattern_key VARCHAR(500) NOT NULL UNIQUE, administration VARCHAR(100) NOT NULL, credit_account VARCHAR(50), predicted_debet VARCHAR(50), occurrences INT DEFAULT 0, confidence DECIMAL(5,4), avg_amount DECIMAL(15,2), last_seen DATE, is_bank_credit BOOLEAN DEFAULT FALSE, keywords TEXT, created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, INDEX idx_admin_credit (administration, credit_account), INDEX idx_pattern_key (pattern_key))",
    "CREATE TABLE IF NOT EXISTS pattern_credit_predictions (id INT AUTO_INCREMENT PRIMARY KEY, pattern_key VARCHAR(500) NOT NULL UNIQUE, administration VARCHAR(100) NOT NULL, debet_account VARCHAR(50), predicted_credit VARCHAR(50), occurrences INT DEFAULT 0, confidence DECIMAL(5,4), avg_amount DECIMAL(15,2), last_seen DATE, is_bank_debet BOOLEAN DEFAULT FALSE, keywords TEXT, created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, INDEX idx_admin_debet (administration, debet_account), INDEX idx_pattern_key (pattern_key))",
    "CREATE TABLE IF NOT EXISTS pattern_reference_predictions (id INT AUTO_INCREMENT PRIMARY KEY, pattern_key VARCHAR(500) NOT NULL UNIQUE, administration VARCHAR(100) NOT NULL, predicted_reference VARCHAR(255), occurrences INT DEFAULT 0, confidence DECIMAL(5,4), bank_debet VARCHAR(50), bank_credit VARCHAR(50), keywords TEXT, reference_keywords TEXT, last_seen DATE, created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, INDEX idx_admin_ref (administration, predicted_reference), INDEX idx_pattern_key (pattern_key))"
  ],
  "version": "1.0"
}